{% extends "base.html" %}

{% block content %}
<div class="dashboard {{ theme }}">
    <!-- Welcome Banner -->
    <div class="welcome-banner {{ theme }}">
        <div class="welcome-content">
            <h1>Welcome back, {{ username }}! üëã</h1>
            <p>Ready to continue your coding adventure?</p>
            <div class="user-level">
                <span class="level-badge">Level {{ stats.highest_level|default(1) }}</span>
                <span class="xp-progress">
                    <div class="xp-bar">
                        <div class="xp-fill" style="width: ('{{ (stats.levels_completed|default(0) / 10) * 100 }}%')"></div>
                    </div>
                    <span class="xp-text">{{ stats.levels_completed|default(0) }}/10 challenges completed</span>
                </span>
            </div>
        </div>
        <div class="user-avatar {{ theme }}">
            <div class="avatar-character {{ theme }}"></div>
            <div class="avatar-status online"></div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions {{ theme }}">
        <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
        <div class="actions-grid">
            <a href="{{ url_for('game', level=stats.highest_level|default(1)) }}" class="action-card {{ theme }}">
                <div class="action-icon continue">
                    <i class="fas fa-play-circle"></i>
                </div>
                <h3>Continue Learning</h3>
                <p>Resume from Level {{ stats.highest_level|default(1) }}</p>
            </a>
            
            <a href="{{ url_for('multiplayer') }}" class="action-card {{ theme }}">
                <div class="action-icon battle">
                    <i class="fas fa-crosshairs"></i>
                </div>
                <h3>Multiplayer Battle</h3>
                <p>Challenge other players in real-time</p>
            </a>
            
            <a href="{{ url_for('lessons', topic='python_basics') }}" class="action-card {{ theme }}">
                <div class="action-icon lessons">
                    <i class="fas fa-book-open"></i>
                </div>
                <h3>Review Lessons</h3>
                <p>Brush up on Python fundamentals</p>
            </a>
            
            <a href="#" class="action-card {{ theme }}">
                <div class="action-icon profile">
                    <i class="fas fa-user-cog"></i>
                </div>
                <h3>Edit Profile</h3>
                <p>Customize your settings and theme</p>
            </a>
        </div>
    </div>

    <!-- Stats Overview -->
    <div class="stats-overview {{ theme }}">
        <h2><i class="fas fa-chart-line"></i> Your Progress</h2>
        <div class="stats-grid">
            <div class="stat-card {{ theme }}">
                <div class="stat-header">
                    <i class="fas fa-star"></i>
                    <h3>Total Score</h3>
                </div>
                <div class="stat-value">{{ stats.total_score|default(0) }}</div>
                <div class="stat-trend positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+120 this week</span>
                </div>
            </div>
            
            <div class="stat-card {{ theme }}">
                <div class="stat-header">
                    <i class="fas fa-flag-checkered"></i>
                    <h3>Levels Completed</h3>
                </div>
                <div class="stat-value">{{ stats.levels_completed|default(0) }}</div>
                <div class="stat-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ('{{ (stats.levels_completed|default(0) / 10) * 100 }}%')"></div>
                    </div>
                    <span>{{ (stats.levels_completed|default(0) / 10) * 100 }}%</span>
                </div>
            </div>
            
            <div class="stat-card {{ theme }}">
                <div class="stat-header">
                    <i class="fas fa-trophy"></i>
                    <h3>Achievements</h3>
                </div>
                <div class="stat-value">3/15</div>
                <div class="achievement-preview">
                    <span class="achievement-icon">üèÜ</span>
                    <span class="achievement-icon">üêç</span>
                    <span class="achievement-icon">‚ö°</span>
                    <span class="achievement-more">+12 more</span>
                </div>
            </div>
            
            <div class="stat-card {{ theme }}">
                <div class="stat-header">
                    <i class="fas fa-ranking-star"></i>
                    <h3>Global Rank</h3>
                </div>
                <div class="stat-value">#42</div>
                <div class="rank-change positive">
                    <i class="fas fa-caret-up"></i>
                    <span>Up 3 positions</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="recent-activity {{ theme }}">
        <h2><i class="fas fa-history"></i> Recent Activity</h2>
        <div class="activity-timeline">
            <div class="activity-item {{ theme }} success">
                <div class="activity-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="activity-content">
                    <h4>Completed Level 3: Python Functions</h4>
                    <p class="activity-meta">2 hours ago ‚Ä¢ Score: 95/100</p>
                </div>
                <span class="activity-badge">+95 points</span>
            </div>
            
            <div class="activity-item {{ theme }} multiplayer">
                <div class="activity-icon">
                    <i class="fas fa-crosshairs"></i>
                </div>
                <div class="activity-content">
                    <h4>Won against coder_pro in Multiplayer</h4>
                    <p class="activity-meta">Yesterday ‚Ä¢ Rating: +25</p>
                </div>
                <span class="activity-badge victory">Victory!</span>
            </div>
            
            <div class="activity-item {{ theme }} achievement">
                <div class="activity-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="activity-content">
                    <h4>Unlocked "Python Prodigy" achievement</h4>
                    <p class="activity-meta">2 days ago ‚Ä¢ 50 points</p>
                </div>
                <span class="activity-badge achievement-badge">üèÜ New!</span>
            </div>
            
            <div class="activity-item {{ theme }} learning">
                <div class="activity-icon">
                    <i class="fas fa-book"></i>
                </div>
                <div class="activity-content">
                    <h4>Completed HTML Basics lesson</h4>
                    <p class="activity-meta">3 days ago ‚Ä¢ 100% score</p>
                </div>
                <span class="activity-badge">Perfect!</span>
            </div>
        </div>
    </div>

    <!-- Learning Path -->
    <div class="learning-path {{ theme }}">
        <h2><i class="fas fa-road"></i> Your Learning Path</h2>
        <div class="path-container">
            {% for i in range(1, 11) %}
            <div class="path-node {{ theme }} {{ 'completed' if i <= stats.levels_completed|default(0) else 'current' if i == stats.highest_level|default(1) else 'upcoming' }}">
                <div class="node-icon">
                    {% if i <= stats.levels_completed|default(0) %}
                    <i class="fas fa-check-circle"></i>
                    {% elif i == stats.highest_level|default(1) %}
                    <i class="fas fa-play-circle"></i>
                    {% else %}
                    <i class="fas fa-lock"></i>
                    {% endif %}
                </div>
                <div class="node-content">
                    <h4>Level {{ i }}</h4>
                    <p>
                        {% if i == 1 %}Python Variables{% endif %}
                        {% if i == 2 %}Basic Functions{% endif %}
                        {% if i == 3 %}HTML Structure{% endif %}
                        {% if i == 4 %}CSS Styling{% endif %}
                        {% if i == 5 %}JavaScript Basics{% endif %}
                        {% if i == 6 %}Python Lists{% endif %}
                        {% if i == 7 %}Flask Routes{% endif %}
                        {% if i == 8 %}Database CRUD{% endif %}
                        {% if i == 9 %}API Development{% endif %}
                        {% if i == 10 %}Final Project{% endif %}
                    </p>
                </div>
                <a href="{{ url_for('game', level=i) if i <= stats.highest_level|default(1) else '#' }}" 
                   class="node-action btn {{ theme }} small">
                    {% if i <= stats.levels_completed|default(0) %}
                    Review
                    {% elif i == stats.highest_level|default(1) %}
                    Continue
                    {% else %}
                    Locked
                    {% endif %}
                </a>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Multiplayer Stats -->
    <div class="multiplayer-stats {{ theme }}">
        <h2><i class="fas fa-swords"></i> Multiplayer Stats</h2>
        <div class="multiplayer-grid">
            <div class="vs-card {{ theme }}">
                <div class="vs-header">
                    <div class="player player-left">
                        <div class="player-avatar {{ theme }}"></div>
                        <span class="player-name">{{ username }}</span>
                    </div>
                    <div class="vs-label">VS</div>
                    <div class="player player-right">
                        <div class="player-avatar {{ theme }} opponent"></div>
                        <span class="player-name">Opponent</span>
                    </div>
                </div>
                <div class="vs-stats">
                    <div class="stat-left">
                        <div class="stat-value">8</div>
                        <div class="stat-label">Wins</div>
                    </div>
                    <div class="stat-center">
                        <div class="stat-value">15</div>
                        <div class="stat-label">Matches</div>
                    </div>
                    <div class="stat-right">
                        <div class="stat-value">5</div>
                        <div class="stat-label">Losses</div>
                    </div>
                </div>
                <div class="win-rate">
                    <div class="rate-label">Win Rate</div>
                    <div class="rate-value">53.3%</div>
                    <div class="rate-bar">
                        <div class="rate-fill" style="width: 53.3%"></div>
                    </div>
                </div>
            </div>
            
            <div class="leaderboard-preview {{ theme }}">
                <h3><i class="fas fa-crown"></i> Top Players</h3>
                <div class="leaderboard-list">
                    {% for i in range(1, 6) %}
                    <div class="leaderboard-item {{ theme }}">
                        <span class="rank {{ 'top-3' if i <= 3 else '' }}">#{{ i }}</span>
                        <span class="player-name">
                            <span class="player-avatar small {{ theme }}"></span>
                            Player {{ i }}
                        </span>
                        <span class="player-score">{{ 1500 - (i * 50) }} pts</span>
                    </div>
                    {% endfor %}
                </div>
                <a href="#" class="view-all {{ theme }}-link">
                    View full leaderboard <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Theme-specific decorations -->
    {% if theme == 'cute' %}
    <div class="dashboard-decoration cute">
        <div class="floating-clouds"></div>
        <div class="cute-mascot"></div>
    </div>
    {% else %}
    <div class="dashboard-decoration deadly">
        <div class="holographic-display"></div>
        <div class="cyber-mascot"></div>
    </div>
    {% endif %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Update real-time stats
    updateLiveStats();
    
    // Setup quick action cards
    setupActionCards();
    
    // Setup activity timeline animations
    setupActivityAnimations();
    
    // Setup learning path interactions
    setupLearningPath();
    
    // Theme-specific animations
    if (document.body.classList.contains('cute-theme')) {
        setupCuteAnimations();
    } else {
        setupDeadlyAnimations();
    }
});

function updateLiveStats() {
    // In a real implementation, this would fetch from an API
    setInterval(() => {
        // Simulate real-time updates
        const scoreElement = document.querySelector('.stat-card .stat-value');
        if (scoreElement) {
            const currentScore = parseInt(scoreElement.textContent);
            scoreElement.textContent = (currentScore + Math.floor(Math.random() * 5)).toString();
        }
    }, 10000);
}

function setupActionCards() {
    const actionCards = document.querySelectorAll('.action-card');
    actionCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px)';
            this.style.boxShadow = '0 15px 30px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '';
        });
        
        // Add click animation
        card.addEventListener('click', function(e) {
            if (this.getAttribute('href') === '#') {
                e.preventDefault();
                alert('This feature is coming soon!');
            }
        });
    });
}

function setupActivityAnimations() {
    const activityItems = document.querySelectorAll('.activity-item');
    activityItems.forEach((item, index) => {
        item.style.animationDelay = `${index * 0.1}s`;
        item.classList.add('animate-in');
    });
}

function setupLearningPath() {
    const pathNodes = document.querySelectorAll('.path-node');
    pathNodes.forEach(node => {
        node.addEventListener('click', function(e) {
            if (this.classList.contains('upcoming')) {
                e.preventDefault();
                alert('Complete previous levels to unlock this!');
            }
        });
        
        // Add hover effect for completed nodes
        if (node.classList.contains('completed')) {
            node.addEventListener('mouseenter', function() {
                this.querySelector('.node-action').textContent = 'Replay';
            });
            
            node.addEventListener('mouseleave', function() {
                this.querySelector('.node-action').textContent = 'Review';
            });
        }
    });
}

function setupCuteAnimations() {
    // Add floating hearts
    const decoration = document.querySelector('.dashboard-decoration.cute');
    if (decoration) {
        for (let i = 0; i < 8; i++) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.style.cssText = `
                position: absolute;
                width: ${15 + Math.random() * 10}px;
                height: ${15 + Math.random() * 10}px;
                background: var(--cute-primary);
                transform: rotate(45deg);
                animation: float ${3 + Math.random() * 3}s ease-in-out infinite;
                opacity: ${0.2 + Math.random() * 0.3};
                left: ${Math.random() * 100}%;
                top: ${Math.random() * 100}%;
            `;
            decoration.appendChild(heart);
        }
    }
}

function setupDeadlyAnimations() {
    // Add scanning effects
    const statsCards = document.querySelectorAll('.stat-card.deadly');
    statsCards.forEach(card => {
        const scanLine = document.createElement('div');
        scanLine.className = 'scan-line';
        scanLine.style.cssText = `
            position: absolute;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent, 
                var(--deadly-accent), 
                transparent);
            animation: scan 2s linear infinite;
            top: 0;
            left: 0;
        `;
        card.appendChild(scanLine);
    });
}

// Add CSS animations
const style = document.createElement('style');
style.textContent = `
@keyframes float {
    0%, 100% { transform: rotate(45deg) translateY(0); }
    50% { transform: rotate(45deg) translateY(-20px); }
}

@keyframes scan {
    0% { top: 0; }
    100% { top: 100%; }
}

@keyframes slideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
}

.activity-item.animate-in {
    animation: slideIn 0.5s ease-out forwards;
    opacity: 0;
}

.floating-heart:before,
.floating-heart:after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: inherit;
    border-radius: 50%;
}

.floating-heart:before {
    top: -50%;
    left: 0;
}

.floating-heart:after {
    top: 0;
    left: -50%;
}
`;
document.head.appendChild(style);
</script>

<style>
.dashboard {
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.welcome-banner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
    border-radius: 20px;
    margin-bottom: 2rem;
}

.dashboard.cute .welcome-banner {
    background: linear-gradient(135deg, var(--cute-primary), var(--cute-secondary));
    color: white;
}

.dashboard.deadly .welcome-banner {
    background: linear-gradient(135deg, var(--deadly-primary), var(--deadly-secondary));
    color: var(--deadly-text);
}

.welcome-content h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

.user-level {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-top: 1rem;
}

.level-badge {
    padding: 0.5rem 1rem;
    border-radius: 50px;
    font-weight: bold;
}

.dashboard.cute .level-badge {
    background: white;
    color: var(--cute-primary);
}

.dashboard.deadly .level-badge {
    background: rgba(255, 255, 255, 0.1);
    color: var(--deadly-accent);
    border: 1px solid var(--deadly-accent);
}

.xp-progress {
    flex: 1;
    max-width: 300px;
}

.xp-bar {
    height: 8px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    overflow: hidden;
}

.xp-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.dashboard.cute .xp-fill {
    background: white;
}

.dashboard.deadly .xp-fill {
    background: var(--deadly-accent);
}

.xp-text {
    display: block;
    font-size: 0.9rem;
    margin-top: 0.25rem;
    opacity: 0.9;
}

.user-avatar {
    position: relative;
    width: 100px;
    height: 100px;
}

.avatar-character {
    width: 100%;
    height: 100%;
    border-radius: 50%;
}

.dashboard.cute .avatar-character {
    background: linear-gradient(135deg, white, var(--cute-secondary));
    border: 3px solid white;
}

.dashboard.deadly .avatar-character {
    background: linear-gradient(135deg, var(--deadly-accent), #000);
    border: 2px solid var(--deadly-primary);
}

.avatar-status {
    position: absolute;
    bottom: 5px;
    right: 5px;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    border: 2px solid white;
}

.avatar-status.online {
    background: #4CAF50;
}

.quick-actions {
    margin-bottom: 2rem;
}

.quick-actions h2 {
    margin-bottom: 1rem;
}

.dashboard.cute .quick-actions h2 {
    color: var(--cute-text);
}

.dashboard.deadly .quick-actions h2 {
    color: var(--deadly-accent);
}

.actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.action-card {
    padding: 1.5rem;
    border-radius: 15px;
    text-decoration: none;
    transition: all 0.3s ease;
    display: block;
}

.dashboard.cute .action-card {
    background: white;
    border: 2px solid var(--cute-primary);
    color: var(--cute-text);
}

.dashboard.deadly .action-card {
    background: var(--deadly-secondary);
    border: 1px solid var(--deadly-primary);
    color: var(--deadly-text);
}

.action-card:hover {
    transform: translateY(-5px);
}

.action-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    margin-bottom: 1rem;
}

.dashboard.cute .action-icon {
    background: var(--cute-bg);
    color: var(--cute-primary);
}

.dashboard.deadly .action-icon {
    background: rgba(255, 70, 85, 0.1);
    color: var(--deadly-primary);
}

.action-card h3 {
    margin-bottom: 0.5rem;
}

.action-card p {
    opacity: 0.8;
    font-size: 0.9rem;
}

.stats-overview {
    margin-bottom: 2rem;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.stat-card {
    padding: 1.5rem;
    border-radius: 15px;
}

.dashboard.cute .stat-card {
    background: white;
    border: 2px solid var(--cute-secondary);
}

.dashboard.deadly .stat-card {
    background: var(--deadly-secondary);
    border: 1px solid #444;
}

.stat-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.dashboard.cute .stat-header {
    color: var(--cute-text);
}

.dashboard.deadly .stat-header {
    color: var(--deadly-text);
}

.stat-value {
    font-size: 2.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.dashboard.cute .stat-value {
    color: var(--cute-primary);
}

.dashboard.deadly .stat-value {
    color: var(--deadly-accent);
}

.stat-trend, .rank-change {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.9rem;
}

.stat-trend.positive, .rank-change.positive {
    color: #4CAF50;
}

.stat-progress {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.progress-bar {
    flex: 1;
    height: 6px;
    background: #eee;
    border-radius: 3px;
    overflow: hidden;
}

.dashboard.deadly .progress-bar {
    background: #333;
}

.progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.5s ease;
}

.dashboard.cute .progress-fill {
    background: var(--cute-primary);
}

.dashboard.deadly .progress-fill {
    background: var(--deadly-accent);
}

.achievement-preview {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.achievement-icon {
    font-size: 1.5rem;
}

.achievement-more {
    font-size: 0.9rem;
    opacity: 0.7;
}

.recent-activity {
    margin-bottom: 2rem;
}

.activity-timeline {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.activity-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border-radius: 10px;
}

.dashboard.cute .activity-item {
    background: white;
    border-left: 4px solid var(--cute-primary);
}

.dashboard.deadly .activity-item {
    background: var(--deadly-secondary);
    border-left: 4px solid var(--deadly-primary);
}

.activity-item.success {
    border-left-color: #4CAF50;
}

.activity-item.multiplayer {
    border-left-color: #FF9800;
}

.activity-item.achievement {
    border-left-color: #9C27B0;
}

.activity-item.learning {
    border-left-color: #2196F3;
}

.activity-icon {
    font-size: 1.5rem;
}

.activity-item.success .activity-icon {
    color: #4CAF50;
}

.activity-item.multiplayer .activity-icon {
    color: #FF9800;
}

.activity-item.achievement .activity-icon {
    color: #9C27B0;
}

.activity-item.learning .activity-icon {
    color: #2196F3;
}

.activity-content {
    flex: 1;
}

.activity-content h4 {
    margin-bottom: 0.25rem;
}

.activity-meta {
    font-size: 0.9rem;
    opacity: 0.7;
}

.activity-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 50px;
    font-size: 0.9rem;
    font-weight: bold;
}

.activity-item.success .activity-badge {
    background: #4CAF50;
    color: white;
}

.activity-item.multiplayer .activity-badge {
    background: #FF9800;
    color: white;
}

.activity-item.achievement .activity-badge {
    background: #9C27B0;
    color: white;
}

.activity-item.learning .activity-badge {
    background: #2196F3;
    color: white;
}

.learning-path {
    margin-bottom: 2rem;
}

.path-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.path-node {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border-radius: 10px;
    transition: all 0.3s ease;
}

.dashboard.cute .path-node {
    background: white;
    border: 2px solid var(--cute-secondary);
}

.dashboard.deadly .path-node {
    background: var(--deadly-secondary);
    border: 1px solid #444;
}

.path-node.completed .node-icon {
    color: #4CAF50;
}

.path-node.current .node-icon {
    color: #FF9800;
}

.path-node.upcoming .node-icon {
    color: #9E9E9E;
}

.node-content {
    flex: 1;
}

.node-content h4 {
    margin-bottom: 0.25rem;
}

.node-content p {
    font-size: 0.9rem;
    opacity: 0.7;
}

.node-action.btn.small {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
}

.multiplayer-stats {
    margin-bottom: 2rem;
}

.multiplayer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.vs-card {
    padding: 1.5rem;
    border-radius: 15px;
}

.dashboard.cute .vs-card {
    background: white;
    border: 2px solid var(--cute-primary);
}

.dashboard.deadly .vs-card {
    background: var(--deadly-secondary);
    border: 1px solid var(--deadly-primary);
}

.vs-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1.5rem;
}

.player {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.player-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
}

.dashboard.cute .player-avatar {
    background: var(--cute-primary);
}

.dashboard.deadly .player-avatar {
    background: var(--deadly-primary);
}

.player-avatar.opponent {
    background: #666;
}

.vs-label {
    font-size: 1.5rem;
    font-weight: bold;
    padding: 0 1rem;
}

.dashboard.cute .vs-label {
    color: var(--cute-primary);
}

.dashboard.deadly .vs-label {
    color: var(--deadly-accent);
}

.vs-stats {
    display: flex;
    justify-content: space-around;
    margin-bottom: 1.5rem;
}

.stat-left, .stat-center, .stat-right {
    text-align: center;
}

.stat-value {
    font-size: 2rem;
    font-weight: bold;
}

.dashboard.cute .stat-value {
    color: var(--cute-primary);
}

.dashboard.deadly .stat-value {
    color: var(--deadly-accent);
}

.stat-label {
    font-size: 0.9rem;
    opacity: 0.7;
}

.win-rate {
    text-align: center;
}

.rate-bar {
    height: 8px;
    background: #eee;
    border-radius: 4px;
    overflow: hidden;
    margin-top: 0.5rem;
}

.dashboard.deadly .rate-bar {
    background: #333;
}

.rate-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.dashboard.cute .rate-fill {
    background: var(--cute-primary);
}

.dashboard.deadly .rate-fill {
    background: var(--deadly-accent);
}

.leaderboard-preview {
    padding: 1.5rem;
    border-radius: 15px;
}

.dashboard.cute .leaderboard-preview {
    background: white;
    border: 2px solid var(--cute-secondary);
}

.dashboard.deadly .leaderboard-preview {
    background: var(--deadly-secondary);
    border: 1px solid #444;
}

.leaderboard-preview h3 {
    margin-bottom: 1rem;
}

.leaderboard-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.leaderboard-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.5rem;
    border-radius: 5px;
}

.dashboard.cute .leaderboard-item {
    background: var(--cute-bg);
}

.dashboard.deadly .leaderboard-item {
    background: rgba(255, 255, 255, 0.05);
}

.rank {
    width: 30px;
    text-align: center;
    font-weight: bold;
}

.rank.top-3 {
    color: #FFD700;
}

.player-avatar.small {
    width: 25px;
    height: 25px;
}

.player-name {
    flex: 1;
}

.view-all {
    display: block;
    text-align: center;
    text-decoration: none;
    font-weight: bold;
}

.dashboard-decoration {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
}

@media (max-width: 768px) {
    .dashboard {
        padding: 1rem;
    }
    
    .welcome-banner {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .user-level {
        flex-direction: column;
    }
    
    .actions-grid,
    .stats-grid,
    .multiplayer-grid {
        grid-template-columns: 1fr;
    }
    
    .path-node {
        flex-direction: column;
        text-align: center;
    }
}
</style>
{% endblock %}